<h2>User Functionality</h2>
<div class="col-md-8 col-md-offset-2">
 <div class="form-group">  
    <button type="button" class="btn btn-primary" *ngIf="ShowUserButton" (click)="toggleAddUser(false);callGetUsers();">Show Users</button>
    <button type="button" class="btn btn-primary" *ngIf="showUsers" (click)="toggleAddUser(true);">Add User</button>
    <button type="button" class="btn btn-primary" *ngIf="selectedUser != null" (click)="toggleEditUser(true);">Edit</button>
  <div *ngIf="addNewUser">
    <h2>Add User</h2>
    <form class="form-horizontal">
        <div class="form-group">
          <label class="col-sm-2 control-label">UserName</label>
          <div class="col-sm-10">
            <input class="form-control" #NewUserName >
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">NewFirstName</label>
          <div class="col-sm-10">
            <input class="form-control" #NewFirstName >
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">NewLastName</label>
          <div class="col-sm-10">
            <input class="form-control" #NewLastName >
          </div>
        </div>
    </form>    
    <button type="button" class="btn btn-primary" (click)="callCreateUser(NewUserName.value,NewFirstName.value,NewLastName.value);NewUserName.value='';NewFirstName.value='';NewLastName.value='';">Add New User</button>
  </div>

  <div *ngIf="EditUser">
    <h2>Edit User</h2>
    <form class="form-horizontal">
        <div class="form-group">
          <label class="col-sm-2 control-label">EditName</label>
          <div class="col-sm-10">     
            <input class="form-control" [(ngModel)]="selectedUser.UserObject.UserName" [ngModelOptions]="{standalone: true}" />
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">EditFirstName</label>
          <div class="col-sm-10">
            <input class="form-control" [(ngModel)]="selectedUser.UserObject.FirstName" [ngModelOptions]="{standalone: true}" >
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">EditLastName</label>
          <div class="col-sm-10">
            <input class="form-control" [(ngModel)]="selectedUser.UserObject.LastName" [ngModelOptions]="{standalone: true}">
          </div>
        </div>
    </form>    
    <button type="button" class="btn btn-primary" (click)="callEditUser(selectedUser);">Update User</button>
  </div>

  <div *ngIf="showUsers"> 
    <h2>Users </h2>    
      <p *ngIf="selectedUser != null">
          <em>Selected user : </em>{{this.selectedUser.UserID}}          
      </p>
      
      <table class="table table-hover">
        <th>UserID</th>
        <th>UserName</th>
        <th>FirstName</th>
        <th>LastName</th>
        <tr *ngFor="let UserObject of my_result3.Items" (click)="selectUser(UserObject);"
        [class.info]="UserObject === selectedUser">
        
          <td>{{UserObject.UserID}}</td>
          <td>{{UserObject.UserObject.UserName}}</td>
          <td>{{UserObject.UserObject.FirstName}}</td>
          <td>{{UserObject.UserObject.LastName}}</td>
        </tr>          
      </table>
       
  </div>

  <p class="text-info">Total # of all the service requests including Weather, Device, and User is :
      <span class="badge">{{this._sharedService.totReqsMade}}</span>
  </p>

 </div>
</div>